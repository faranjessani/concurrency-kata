/usr/lib/jvm/java-7-openjdk-amd64/bin/java -ea -Didea.launcher.port=7568 -Didea.launcher.bin.path=/home/vagrant/.idea/bin -Dfile.encoding=US-ASCII -classpath /home/vagrant/.idea/lib/idea_rt.jar:/home/vagrant/.idea/plugins/junit/lib/junit-rt.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/charsets.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/jce.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/management-agent.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/jsse.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/rhino.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/resources.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/rt.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/javazic.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/compilefontconfig.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/zipfs.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/localedata.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/dnsns.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/sunjce_provider.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/icedtea-sound.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/sunpkcs11.jar:/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/ext/java-atk-wrapper.jar:/vagrant/target/test-classes:/vagrant/target/classes:/home/vagrant/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/home/vagrant/.m2/repository/junit/junit/4.12/junit-4.12.jar:/home/vagrant/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/vagrant/.m2/repository/org/easytesting/fest-assert-core/2.0M10/fest-assert-core-2.0M10.jar:/home/vagrant/.m2/repository/org/easytesting/fest-util/1.2.5/fest-util-1.2.5.jar:/home/vagrant/.m2/repository/com/jayway/awaitility/awaitility/1.6.3/awaitility-1.6.3.jar:/home/vagrant/.m2/repository/org/hamcrest/hamcrest-library/1.3/hamcrest-library-1.3.jar:/home/vagrant/.m2/repository/cglib/cglib-nodep/3.1/cglib-nodep-3.1.jar:/home/vagrant/.m2/repository/org/objenesis/objenesis/2.1/objenesis-2.1.jar:/home/vagrant/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar com.intellij.rt.execution.application.AppMain com.intellij.rt.execution.junit.JUnitStarter -ideVersion5 net.bourgau.philippe.concurrency.kata.EndToEndTcpTest,it_supports_a_large_number_of_clients

com.jayway.awaitility.core.ConditionTimeoutException: Runnable condition defined in private void net.bourgau.philippe.concurrency.kata.EndToEndTcpTest$ConcurrentTest.waitUntilClientsAreEntered() expected size:<100> but was:<66> in:<['Welcome John0 !', 'Welcome John2 !', 'Welcome John1 !', 'Welcome John3 !', 'Welcome John4 !', 'Welcome John5 !', 'Welcome John6 !', 'Welcome John7 !', 'Welcome John8 !', 'Welcome John9 !', 'Welcome John10 !', 'Welcome John11 !', 'Welcome John12 !', 'Welcome John13 !', 'Welcome John14 !', 'Welcome John15 !', 'Welcome John16 !', 'Welcome John17 !', 'Welcome John18 !', 'Welcome John19 !', 'Welcome John20 !', 'Welcome John21 !', 'Welcome John22 !', 'Welcome John24 !', 'Welcome John26 !', 'Welcome John27 !', 'Welcome John28 !', 'Welcome John29 !', 'Welcome John30 !', 'Welcome John31 !', 'Welcome John32 !', 'Welcome John33 !', 'Welcome John34 !', 'Welcome John35 !', 'Welcome John36 !', 'Welcome John37 !', 'Welcome John39 !', 'Welcome John41 !', 'Welcome John43 !', 'Welcome John44 !', 'Welcome John45 !', 'Welcome John47 !', 'Welcome John48 !', 'Welcome John50 !', 'Welcome John52 !', 'Welcome John55 !', 'Welcome John58 !', 'Welcome John64 !', 'Welcome John66 !', 'Welcome John67 !', 'Welcome John69 !', 'Welcome John71 !', 'Welcome John72 !', 'Welcome John75 !', 'Welcome John76 !', 'Welcome John78 !', 'Welcome John80 !', 'Welcome John82 !', 'Welcome John84 !', 'Welcome John85 !', 'Welcome John87 !', 'Welcome John88 !', 'Welcome John90 !', 'Welcome John93 !', 'Welcome John95 !', 'Welcome John99 !']> within 5 seconds.
	at com.jayway.awaitility.core.ConditionAwaiter.await(ConditionAwaiter.java:96)
	at com.jayway.awaitility.core.AssertionCondition.await(AssertionCondition.java:117)
	at com.jayway.awaitility.core.AssertionCondition.await(AssertionCondition.java:31)
	at com.jayway.awaitility.core.ConditionFactory.until(ConditionFactory.java:590)
	at com.jayway.awaitility.core.ConditionFactory.until(ConditionFactory.java:444)
	at net.bourgau.philippe.concurrency.kata.EndToEndTcpTest$ConcurrentTest.waitUntilClientsAreEntered(EndToEndTcpTest.java:199)
	at net.bourgau.philippe.concurrency.kata.EndToEndTcpTest$ConcurrentTest.allClientsEnter(EndToEndTcpTest.java:169)
	at net.bourgau.philippe.concurrency.kata.EndToEndTcpTest$ConcurrentTest.run(EndToEndTcpTest.java:160)
	at net.bourgau.philippe.concurrency.kata.EndToEndTcpTest.it_supports_a_large_number_of_clients(EndToEndTcpTest.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)


java.lang.AssertionError: [Reported errors] expecting empty but was:<['java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
']>
	at net.bourgau.philippe.concurrency.kata.ErrorsCatcher.shouldNotHaveBeenReported(ErrorsCatcher.java:17)
	at net.bourgau.philippe.concurrency.kata.EndToEndTcpTest.after_each(EndToEndTcpTest.java:42)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)


java.lang.AssertionError: [Reported errors] expecting empty but was:<['java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.enter(InProcessChatRoom.java:15)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:24)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
', 'java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:922)
	at java.util.HashMap$KeyIterator.next(HashMap.java:956)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.broadcast(InProcessChatRoom.java:24)
	at net.bourgau.philippe.concurrency.kata.InProcessChatRoom.leave(InProcessChatRoom.java:41)
	at net.bourgau.philippe.concurrency.kata.TcpClientProxy.unsafeRun(TcpClientProxy.java:29)
	at net.bourgau.philippe.concurrency.kata.SafeRunnable.run(SafeRunnable.java:10)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
']>
	at net.bourgau.philippe.concurrency.kata.ErrorsCatcher.shouldNotHaveBeenReported(ErrorsCatcher.java:17)
	at net.bourgau.philippe.concurrency.kata.EndToEndTcpTest.after_each(EndToEndTcpTest.java:42)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)


Process finished with exit code 255
